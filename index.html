<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
</head>
<style>
	body {
		text-align: center;
	}
</style>
<body>
	<script>
		"use strict";
		const body = document.querySelector('body');
		const h1 = document.createElement('h1');
		h1.textContent = 'Rock, Paper, Scissors.';
		body.appendChild(h1);
   
        const p = document.createElement('p');
		p.textContent = 'Make your choice to start the game.';
		body.appendChild(p);

		const divButtons = document.createElement('div');
		body.appendChild(divButtons);

		const Rock = document.createElement('button');
		Rock.textContent = 'Rock';
		divButtons.appendChild(Rock);

		const Paper = document.createElement('button');
		Paper.textContent = 'Paper';
		divButtons.appendChild(Paper);

		const Scissors = document.createElement('button');
		Scissors.textContent = 'Scissors';
		divButtons.appendChild(Scissors);

		divButtons.addEventListener('click', function(e) {
			if(!isGameStarted) {
				isGameStarted = true;
			}
			playOneRound(e.target.textContent);
		});


		let playerScore = 0;
		let computerScore = 0;
		let isGameStarted = false;

		//game();

		function computerPlay() {
			let random = Math.floor((Math.random() * 3)) + 1;
			return (random == 1) ? "Rock": (random == 2) ? "Paper": "Scissors";
		}
		
		function playOneRound(playerSelection, computerSelection) {
			computerSelection = computerPlay();
			p.textContent = "Computer\'s choice is " +computerSelection +". ";
	        if (playerSelection == "Rock" && computerSelection == "Paper") {
	        	computerScore++;
	        	p.textContent += "You lose the round. Paper beats Rock. Make your choice again.";
        	} 
        	else if (playerSelection == "Rock" && computerSelection == "Scissors") {
				playerScore++;    
        		p.textContent += "You win the round. Rock beats Scissors. Paper beats Rock. Make your choice again.";
        	}
        	else if (playerSelection == "Paper" && computerSelection == "Rock") {
				playerScore++;
        		p.textContent += "You win the round. Rock beats Scissors. Paper beats Rock. Make your choice again.";
    		}
    		else if (playerSelection == "Paper" && computerSelection == "Scissors") {
			    computerScore++;
    			p.textContent += "You lose the round. Scissors beat Paper. Paper beats Rock. Make your choice again.";
			}
			else if (playerSelection == "Scissors" && computerSelection == "Rock") {
				computerScore++;
				p.textContent += "You lose the round. Rock beats Scissors. Paper beats Rock. Make your choice again.";
			}
			else if (playerSelection == "Scissors" && computerSelection == "Paper") {
				playerScore++;
				p.textContent += "You win the round. Scissors beat Paper. Paper beats Rock. Make your choice again.";
			}
			else {
				p.textContent += "Draw." +playerSelection +" and " +computerSelection +". Paper beats Rock. Make your choice again.";
			}      
		}

		function game() {
			for (let i = 0; i<5; i++) {
			    let playerSelection = prompt('Choose "Rock", "Paper" or "Scissors"');
			    while (playerSelection === '' || playerSelection === null) {
			    	alert('You need to write something');
				    playerSelection = prompt('Choose "Rock", "Paper" or "Scissors"');
			    }
			    while ( !(playerSelection == 'Rock' || playerSelection == 'Paper' || playerSelection == 'Scissors') ) {
			    	alert('You need to write only "Rock", "Paper" or "Scissors"');
				    playerSelection = prompt('Choose "Rock", "Paper" or "Scissors"');
				    playerSelection = playerSelection.slice(0, 1).toUpperCase() + playerSelection.slice(1).toLowerCase();
			    }
			   playOneRound(playerSelection);
		   	}

		   	console.log("Total score: You " +playerScore +", Computer " +computerScore);

		   	if (playerScore > computerScore) {
		   		console.log("You win the game");
		   	} else if (playerScore < computerScore) {
		   		console.log("You lose the game");
		   	} else {
		   		console.log("Draw");
		   	}

		   	console.log("Restart page to play again");
		}

				
	</script>
</body>
</html>